            <button onclick="validateAnswers()">æäº¤éªŒè¯</button>
            <div id="errorMsg">âš ï¸ é”™äº†å“¦å°ä¹–ï¼Œæ•²ä½ è„‘è¢‹ï¼</div>
        </div>

        <!-- æˆåŠŸè¿‡æ¸¡é¡µ -->
        <div id="successPage">
            <h2 style="color: #ff69b4; margin-bottom: 30px;">ğŸ‰ éªŒè¯æˆåŠŸï¼</h2>
            <p style="font-size: 18px; margin-bottom: 40px;">è®°å¿†åŠ è½½ä¸­...</p>
        </div>
    </div>

    <!-- æœ€ç»ˆé¡µé¢ -->
    <div class="main-container" id="finalPage">
        <h2 style="color: #ff69b4; margin-bottom: 30px;">ğŸ’– å¿ƒåŠ¨æ—¶åˆ» ğŸ’–</h2>
        <div class="photo-frame">
            <!-- â­ï¸æ›¿æ¢å›¾ç‰‡é“¾æ¥ -->
            <img src="https://example.com/your-image.jpg" alt="ä¸“å±è®°å¿†">
        </div>
        <button onclick="downloadSecret()" style="margin-top: 40px;">âœ¨ å¼€å§‹å¿ƒåŠ¨ âœ¨</button>
    </div>

    <!-- â­ï¸èƒŒæ™¯éŸ³ä¹ï¼ˆæ›¿æ¢éŸ³ä¹é“¾æ¥ï¼‰ -->
    <audio id="backgroundMusic" src="https://raw.githubusercontent.com/younotfaraway/heartdate/main/sound.mp3"></audio>

    <script>
        // åˆå§‹åŒ–æ—¥æœŸé€‰æ‹©å™¨
        function initDatePicker() {
            const yearSelect = document.getElementById('yearSelect');
            yearSelect.innerHTML = '<option value="" disabled selected>é€‰æ‹©å¹´ä»½</option>';
            for(let y = 2025; y >= 2000; y--) {
                yearSelect.add(new Option(y + 'å¹´', y));
            }

            const monthSelect = document.getElementById('monthSelect');
            monthSelect.innerHTML = '<option value="" disabled selected>é€‰æ‹©æœˆä»½</option>';
            for(let m = 1; m <= 12; m++) {
                monthSelect.add(new Option(m + 'æœˆ', m));
            }
            updateDays();
        }

        // æ›´æ–°æ—¥æœŸé€‰é¡¹
        function updateDays() {
            const year = parseInt(yearSelect.value);
            const month = parseInt(monthSelect.value);
            const daySelect = document.getElementById('daySelect');
            daySelect.innerHTML = '<option value="" disabled selected>é€‰æ‹©æ—¥æœŸ</option>';
            
            if(year && month) {
                const daysInMonth = new Date(year, month, 0).getDate();
                for(let d = 1; d <= daysInMonth; d++) {
                    daySelect.add(new Option(d + 'æ—¥', d));
                }
            }
        }

        // éªŒè¯é€»è¾‘
        function validateAnswers() {
            const errorMsg = document.getElementById('errorMsg');
            errorMsg.style.display = 'none';

            // è·å–ç­”æ¡ˆ
            const userYear = parseInt(yearSelect.value);
            const userMonth = parseInt(monthSelect.value);
            const userDay = parseInt(daySelect.value);
            const userDays = parseInt(document.getElementById('daysInput').value);

            // è®¡ç®—æ­£ç¡®ç­”æ¡ˆ
            const correctDate = new Date(2024, 1, 3); // 2024å¹´2æœˆ3æ—¥
            const today = new Date();
            today.setHours(0,0,0,0);
            const correctDays = Math.floor((today - correctDate) / 86400000);

            // éªŒè¯ç»“æœ
            if(userYear === 2024 && userMonth === 2 && userDay === 3 && userDays === correctDays) {
                showSuccessPage();
            } else {
                showError();
            }
        }

        // æ˜¾ç¤ºæˆåŠŸé¡µ
        function showSuccessPage() {
            document.getElementById('questionPage').style.display = 'none';
            document.getElementById('successPage').style.display = 'block';
            document.querySelector('.step-indicator').textContent = 'ç¬¬2æ­¥/å…±3æ­¥';

            setTimeout(() => {
                document.getElementById('successPage').style.display = 'none';
                document.getElementById('finalPage').style.display = 'block';
                document.querySelector('.step-indicator').textContent = 'ç¬¬3æ­¥/å…±3æ­¥';
            }, 2000);
        }

        // æ˜¾ç¤ºé”™è¯¯
        function showError() {
            const errorMsg = document.getElementById('errorMsg');
            errorMsg.style.display = 'block';
            setTimeout(() => errorMsg.style.display = 'none', 3000);
        }

        // æ–‡ä»¶ä¸‹è½½
        function downloadSecret() {
            const link = document.createElement('a');
            link.href = 'https://example.com/secret-file.pdf'; // â­ï¸æ›¿æ¢ä¸‹è½½é“¾æ¥
            link.download = 'å¿ƒåŠ¨æ—¶åˆ».pdf';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // éŸ³ä¹æ§åˆ¶
        const music = document.getElementById('backgroundMusic');
        function playMusic() {
            try {
                music.play();
                document.getElementById('playButton').style.display = 'none';
            } catch {
                alert('è¯·å…è®¸æ’­æ”¾èƒŒæ™¯éŸ³ä¹å“¦~');
            }
        }

        // éŸ³ä¹çŠ¶æ€ä¿æŒ
        window.addEventListener('beforeunload', () => {
            localStorage.setItem('musicTime', music.currentTime);
            localStorage.setItem('musicPlaying', !music.paused);
        });

        // åˆå§‹åŒ–
        window.addEventListener('load', () => {
            // æ¢å¤éŸ³ä¹çŠ¶æ€
            const savedTime = localStorage.getItem('musicTime');
            const wasPlaying = localStorage.getItem('musicPlaying') === 'true';
            if (savedTime) {
                music.currentTime = savedTime;
                if (wasPlaying) {
                    music.play().catch(() => {});
                    document.getElementById('playButton').style.display = 'none';
                }
            }

            initDatePicker();
            document.getElementById('yearSelect').addEventListener('change', updateDays);
            document.getElementById('monthSelect').addEventListener('change', updateDays);
        });
    </script>
</body>
</html>

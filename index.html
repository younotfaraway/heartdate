            <button onclick="validateAnswers()">提交验证</button>
            <div id="errorMsg">⚠️ 错了哦小乖，敲你脑袋！</div>
        </div>

        <!-- 成功过渡页 -->
        <div id="successPage">
            <h2 style="color: #ff69b4; margin-bottom: 30px;">🎉 验证成功！</h2>
            <p style="font-size: 18px; margin-bottom: 40px;">记忆加载中...</p>
        </div>
    </div>

    <!-- 最终页面 -->
    <div class="main-container" id="finalPage">
        <h2 style="color: #ff69b4; margin-bottom: 30px;">💖 心动时刻 💖</h2>
        <div class="photo-frame">
            <!-- ⭐️替换图片链接 -->
            <img src="https://example.com/your-image.jpg" alt="专属记忆">
        </div>
        <button onclick="downloadSecret()" style="margin-top: 40px;">✨ 开始心动 ✨</button>
    </div>

    <!-- ⭐️背景音乐（替换音乐链接） -->
    <audio id="backgroundMusic" src="https://raw.githubusercontent.com/younotfaraway/heartdate/main/sound.mp3"></audio>

    <script>
        // 初始化日期选择器
        function initDatePicker() {
            const yearSelect = document.getElementById('yearSelect');
            yearSelect.innerHTML = '<option value="" disabled selected>选择年份</option>';
            for(let y = 2025; y >= 2000; y--) {
                yearSelect.add(new Option(y + '年', y));
            }

            const monthSelect = document.getElementById('monthSelect');
            monthSelect.innerHTML = '<option value="" disabled selected>选择月份</option>';
            for(let m = 1; m <= 12; m++) {
                monthSelect.add(new Option(m + '月', m));
            }
            updateDays();
        }

        // 更新日期选项
        function updateDays() {
            const year = parseInt(yearSelect.value);
            const month = parseInt(monthSelect.value);
            const daySelect = document.getElementById('daySelect');
            daySelect.innerHTML = '<option value="" disabled selected>选择日期</option>';
            
            if(year && month) {
                const daysInMonth = new Date(year, month, 0).getDate();
                for(let d = 1; d <= daysInMonth; d++) {
                    daySelect.add(new Option(d + '日', d));
                }
            }
        }

        // 验证逻辑
        function validateAnswers() {
            const errorMsg = document.getElementById('errorMsg');
            errorMsg.style.display = 'none';

            // 获取答案
            const userYear = parseInt(yearSelect.value);
            const userMonth = parseInt(monthSelect.value);
            const userDay = parseInt(daySelect.value);
            const userDays = parseInt(document.getElementById('daysInput').value);

            // 计算正确答案
            const correctDate = new Date(2024, 1, 3); // 2024年2月3日
            const today = new Date();
            today.setHours(0,0,0,0);
            const correctDays = Math.floor((today - correctDate) / 86400000);

            // 验证结果
            if(userYear === 2024 && userMonth === 2 && userDay === 3 && userDays === correctDays) {
                showSuccessPage();
            } else {
                showError();
            }
        }

        // 显示成功页
        function showSuccessPage() {
            document.getElementById('questionPage').style.display = 'none';
            document.getElementById('successPage').style.display = 'block';
            document.querySelector('.step-indicator').textContent = '第2步/共3步';

            setTimeout(() => {
                document.getElementById('successPage').style.display = 'none';
                document.getElementById('finalPage').style.display = 'block';
                document.querySelector('.step-indicator').textContent = '第3步/共3步';
            }, 2000);
        }

        // 显示错误
        function showError() {
            const errorMsg = document.getElementById('errorMsg');
            errorMsg.style.display = 'block';
            setTimeout(() => errorMsg.style.display = 'none', 3000);
        }

        // 文件下载
        function downloadSecret() {
            const link = document.createElement('a');
            link.href = 'https://example.com/secret-file.pdf'; // ⭐️替换下载链接
            link.download = '心动时刻.pdf';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // 音乐控制
        const music = document.getElementById('backgroundMusic');
        function playMusic() {
            try {
                music.play();
                document.getElementById('playButton').style.display = 'none';
            } catch {
                alert('请允许播放背景音乐哦~');
            }
        }

        // 音乐状态保持
        window.addEventListener('beforeunload', () => {
            localStorage.setItem('musicTime', music.currentTime);
            localStorage.setItem('musicPlaying', !music.paused);
        });

        // 初始化
        window.addEventListener('load', () => {
            // 恢复音乐状态
            const savedTime = localStorage.getItem('musicTime');
            const wasPlaying = localStorage.getItem('musicPlaying') === 'true';
            if (savedTime) {
                music.currentTime = savedTime;
                if (wasPlaying) {
                    music.play().catch(() => {});
                    document.getElementById('playButton').style.display = 'none';
                }
            }

            initDatePicker();
            document.getElementById('yearSelect').addEventListener('change', updateDays);
            document.getElementById('monthSelect').addEventListener('change', updateDays);
        });
    </script>
</body>
</html>
